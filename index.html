<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container big-container">
        <div class="row">
            <div class="container">
                <h1>Password Generator</h1>
                <hr>
                <div class ="row">
                    <div class = "col-12">
                        <h3>Generate a Password</h3>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-12">
                <textarea name="" id="textarea" cols="40" rows="5">Your Secure Password</textarea>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-12">
                <button type="button" class="btn" id="password-button">Generate Password</button>
            </div>
        </div>
    </div>

    <script>
        var userPassword = [];
        var passwordLength;
        var passwordCharArray = [];

        function getPassword() {
            for (i = 0; i < passwordLength; i++) {
                userPassword.push(passwordCharArray[Math.floor(Math.random() * passwordCharArray.length)])
            }
            return userPassword;
        }

        var lowerCaseCodes = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
        var upperCaseCodes = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
        var numericalCodes = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
        var specialCodes = [" ", "!", "\"", "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", ":", ";", "<", "=", ">", "?", "@", "[", "\"", "]", "^", "_", "`", "{", "|", "}", "~"];

        //clears the userPassword array so the page doesn't have to be reloaded
        //to generate a new password
        document.getElementById("password-button").addEventListener("click", function () {
            userPassword = [];
            passwordCharArray = [];
        });

        document.getElementById("password-button").addEventListener("click", function () {
            passwordLength = prompt("Please choose a password length \(Must be at least 8 characters and no more than 128\)")

            if (passwordLength < 8 || passwordLength > 128) {
                alert("Please choose a length from 8 to 128 characters");
                return userPassword = [];
            } else if (passwordLength >= 8 || passwordLength <= 128) {
                var lowerCase = confirm("Include lower case characters?")
                var upperCase = confirm("Include upper case characters?")
                var numerical = confirm("Include numbers?")
                var specialCharacter = confirm("Include special characters?")
                if (lowerCase) {
                    passwordCharArray = passwordCharArray.concat(lowerCaseCodes);

                } if (upperCase) {
                    passwordCharArray = passwordCharArray.concat(upperCaseCodes);

                } if (numerical) {
                    passwordCharArray = passwordCharArray.concat(numericalCodes);

                } if (specialCharacter) {
                    passwordCharArray = passwordCharArray.concat(specialCodes);

                } else if (!lowerCase && !upperCase && !numerical && !specialCharacter) {
                    alert("Please choose at least one character type.")
                }
                getPassword();
                document.getElementById("textarea").innerHTML = userPassword.join("");
            }
        });


    </script>
</body>

</html>